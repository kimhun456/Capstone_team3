"use strict";

var PKT_EXT = function (PKT_EXT) {

    // UTILITIES
    var domReady = function domReady(callback) {
        document.readyState === "interactive" || document.readyState === "complete" ? callback() : document.addEventListener("DOMContentLoaded", callback);
    };

    // let sendMessage = PKT_EXT.UTIL.sendMessage;

    domReady(function () {

        var dummyData = { "status": 1, "feed": [{ "feed_item_id": "c094a766-36df-4492-a462-01d9237ab6b7", "open_as": "web", "sort_id": 0, "item": { "resolved_id": "1188509069", "item_id": "1188509069", "resolved_url": "http:\/\/www.universetoday.com\/127255\/gravitational-waves-101\/", "title": "[P][c094a] Gravitational Waves and How They Distort Space", "excerpt": "It’s official: on February 11, 10:30 EST, there will be a big press conference about gravitational waves by the people running the gravitational wave detector LIGO.", "word_count": "1053", "has_image": "1", "has_video": "0", "is_index": "0", "is_article": "1", "domain": "universetoday.com", "authors": { "45613741": { "feed_item_id": "c094a766-36df-4492-a462-01d9237ab6b7", "author_id": "45613741", "name": "Markus Pössel", "url": "http:\/\/www.universetoday.com\/author\/markuspossel\/" } }, "image": { "feed_item_id": "c094a766-36df-4492-a462-01d9237ab6b7", "src": "http:\/\/www.universetoday.com\/wp-content\/uploads\/2016\/02\/gw-teaser-700x432.png", "width": "700", "height": "432" }, "images": { "1": { "feed_item_id": "c094a766-36df-4492-a462-01d9237ab6b7", "image_id": "1", "src": "http:\/\/www.universetoday.com\/wp-content\/uploads\/2016\/02\/gw-teaser-700x432.png", "width": "700", "height": "432", "credit": "SpacemanSpiff", "caption": "\nThat's not a space worm. It's what a gravitational wave does to space according to Einstein's theory of general relativity.\n" }, "2": { "feed_item_id": "c094a766-36df-4492-a462-01d9237ab6b7", "image_id": "2", "src": "http:\/\/www.universetoday.com\/wp-content\/uploads\/2016\/02\/gw-waves-wave.gif", "width": "450", "height": "347", "credit": "", "caption": "" }, "3": { "feed_item_id": "c094a766-36df-4492-a462-01d9237ab6b7", "image_id": "3", "src": "http:\/\/www.universetoday.com\/wp-content\/uploads\/2016\/02\/gw-waves-single.png", "width": "300", "height": "298", "credit": "", "caption": "" }, "4": { "feed_item_id": "c094a766-36df-4492-a462-01d9237ab6b7", "image_id": "4", "src": "http:\/\/www.universetoday.com\/wp-content\/uploads\/2016\/02\/gw-waves-single.gif", "width": "300", "height": "298", "credit": "", "caption": "" }, "5": { "feed_item_id": "c094a766-36df-4492-a462-01d9237ab6b7", "image_id": "5", "src": "http:\/\/www.universetoday.com\/wp-content\/uploads\/2016\/02\/gw-points.png", "width": "450", "height": "317", "credit": "", "caption": "" }, "6": { "feed_item_id": "c094a766-36df-4492-a462-01d9237ab6b7", "image_id": "6", "src": "http:\/\/www.universetoday.com\/wp-content\/uploads\/2016\/02\/gw-cylinder.png", "width": "450", "height": "317", "credit": "", "caption": "" }, "7": { "feed_item_id": "c094a766-36df-4492-a462-01d9237ab6b7", "image_id": "7", "src": "http:\/\/www.universetoday.com\/wp-content\/uploads\/2016\/02\/gw-waves-wave-1.gif", "width": "450", "height": "347", "credit": "", "caption": "" }, "8": { "feed_item_id": "c094a766-36df-4492-a462-01d9237ab6b7", "image_id": "8", "src": "http:\/\/www.universetoday.com\/wp-content\/uploads\/2016\/02\/gw-waves-side.gif", "width": "450", "height": "325", "credit": "", "caption": "" }, "9": { "feed_item_id": "c094a766-36df-4492-a462-01d9237ab6b7", "image_id": "9", "src": "http:\/\/www.universetoday.com\/wp-content\/uploads\/2016\/02\/gw-waves-circ.gif", "width": "450", "height": "347", "credit": "", "caption": "" } } } }, { "feed_item_id": "936c2e37-2a39-4414-8039-5db73c7e6672", "open_as": "web", "sort_id": 1, "item": { "resolved_id": "1191499046", "item_id": "1191499046", "resolved_url": "http:\/\/www.huffingtonpost.com\/entry\/glamour-magazine-sexuality-survey_us_56bcad12e4b0b40245c57d6a", "title": "[P][936c2] The One Thing That (Sadly) Most Women Agree Makes A Man Undateable", "excerpt": "While women believe that they occupy a wide spectrum of sexuality that extends beyond the confines of \"gay\" and \"straight,\" they don't hold that same mindset when it comes to men, according to a new Glamour survey.", "word_count": "501", "has_image": "1", "has_video": "0", "is_index": "0", "is_article": "1", "domain": "huffingtonpost.com", "image": { "feed_item_id": "936c2e37-2a39-4414-8039-5db73c7e6672", "src": "http:\/\/img.huffingtonpost.com\/asset\/scalefit_630_noupscale\/56bcbf141a00009c01ab277e.jpeg?cache=i5gmzmu9zf", "width": "0", "height": "0" }, "images": { "1": { "feed_item_id": "936c2e37-2a39-4414-8039-5db73c7e6672", "image_id": "1", "src": "http:\/\/img.huffingtonpost.com\/asset\/scalefit_630_noupscale\/56bcbf141a00009c01ab277e.jpeg?cache=i5gmzmu9zf", "width": "0", "height": "0", "credit": "Jupiterimages via Getty Images", "caption": "Glamour magazine polled more than 1,000 women, between the ages of 18 to 44, about their own sexual identities and experiences." } } } }, { "feed_item_id": "cb8e3f0d-1138-42a3-b3ae-e3fac9966367", "open_as": "web", "sort_id": 2, "item": { "resolved_id": "1194931703", "item_id": "1194931703", "resolved_url": "https:\/\/www.farnamstreetblog.com\/2016\/02\/too-busy\/", "title": "[P][cb8e3] Too Busy to Pay Attention to Life", "excerpt": "Alan Lightman, the physicist who brought us The Accidental Universe, has also written several works of fiction, including Einstein’s Dreams, presented as dreams Einstein might have had while working as a patent clerk in Switzerland in 1905.", "word_count": "1502", "has_image": "0", "has_video": "0", "is_index": "0", "is_article": "1", "domain": "farnamstreetblog.com" } }, { "feed_item_id": "0fd0082c-8aac-43ce-8a40-9fbaedc21e9c", "open_as": "web", "sort_id": 3, "item": { "resolved_id": "1176036284", "item_id": "1176036284", "resolved_url": "http:\/\/zenhabits.net\/productive\/", "title": "[P][0fd00] Unconventional Productivity", "excerpt": "There isn’t a productivity guide in the world that will solve the problems that pretty much all of us face daily.", "word_count": "727", "has_image": "0", "has_video": "0", "is_index": "1", "is_article": "1", "domain": "zenhabits.net", "authors": { "2477623": { "feed_item_id": "0fd0082c-8aac-43ce-8a40-9fbaedc21e9c", "author_id": "2477623", "name": "Leo Babauta", "url": "http:\/\/leobabauta.com" } } } }, { "feed_item_id": "55ea378e-e816-4b53-821b-765127d5fb25", "open_as": "web", "sort_id": 4, "item": { "resolved_id": "1174541085", "item_id": "1174541085", "resolved_url": "https:\/\/digg.com\/2016\/calorie-unit-broken", "title": "[P][55ea3] The Calorie Is Broken", "excerpt": "Calories consumed minus calories burned: it’s the simple formula for weight loss or gain. But dieters often find that it doesn’t work. Cynthia Graber and Nicola Twilley of Gastropod investigate.   Bo Nash is 38.", "word_count": "4392", "has_image": "1", "has_video": "0", "is_index": "0", "is_article": "1", "domain": "digg.com", "authors": { "33052644": { "feed_item_id": "55ea378e-e816-4b53-821b-765127d5fb25", "author_id": "33052644", "name": "Mosaic", "url": "https:\/\/twitter.com\/mosaicscience" }, "44979737": { "feed_item_id": "55ea378e-e816-4b53-821b-765127d5fb25", "author_id": "44979737", "name": "Cynthia Graber", "url": "https:\/\/twitter.com\/cagraber" }, "44979738": { "feed_item_id": "55ea378e-e816-4b53-821b-765127d5fb25", "author_id": "44979738", "name": "Nicola Twilley", "url": "https:\/\/twitter.com\/nicolatwilley" } }, "image": { "feed_item_id": "55ea378e-e816-4b53-821b-765127d5fb25", "src": "http:\/\/static.digg.com\/images\/cfce7f18902143f29395ddf51992e342_d07c1efd6de04d8bab15adc697161d0c_header.jpeg", "width": "0", "height": "0" }, "images": { "1": { "feed_item_id": "55ea378e-e816-4b53-821b-765127d5fb25", "image_id": "1", "src": "http:\/\/static.digg.com\/images\/cfce7f18902143f29395ddf51992e342_d07c1efd6de04d8bab15adc697161d0c_header.jpeg", "width": "0", "height": "0", "credit": "", "caption": "© Catherine Losing\n" } } } }], "meta": { "header_text": "YOU MAY ALSO LIKE", "cta_text": "See More Recommendations", "cta_url": "https:\/\/getpocket.com\/app\/recommendations" }, "id": 1234, "error": 0 };
        var mainContainer = document.getElementById('PKT_EXT_ROOT');

        PKT_EXT.ICONS.inject();

        var saveContainer = document.createElement('div');
        saveContainer.id = 'pkt_ext_save_plate';
        saveContainer.innerHTML = PKT_EXT.TEMPLATES.save(dummyData);

        mainContainer.id = 'pkt_ext_master';
        mainContainer.appendChild(saveContainer);

        PKT_EXT.TAGGING.init({
            containerName: 'pkt_ext_tag_input_wrapper',
            listContainerName: 'pkt_ext_suggested_tags',
            saveButtonName: '',
            placeholder: 'Add some tags...',
            premiumStatus: self.premiumStatus
        });

        // PKT_EXT.WIDGET.init();
        // PKT_EXT.SAVE.init(mainContainer, {"actionCopy":"Saved","openPocket":"?save_cnt=multi"});
    });

    return PKT_EXT;
}(PKT_EXT || {});